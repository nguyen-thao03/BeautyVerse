<ion-content [fullscreen]="true">
  <ion-fab slot="fixed">
    <ion-button fill="clear" color="dark" (click)="back()">
      <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
    </ion-button>
  </ion-fab>
  
  <div align="center" class="logo">
    <img src="assets/imgs/logo.png" alt="" />
  </div>

  <form [formGroup]="form" class="ion-margin-horizontal">
    <ion-list class="ion-margin-horizontal">
      <ion-list-header class="ion-margin-bottom">
        <ion-label> Đăng ký </ion-label>
      </ion-list-header>

      <ion-input
        label=""
        class="ion-margin-bottom"
        color="primary"
        type="text"
        placeholder="Tên"
        formControlName="name"
        errorText="* Vui lòng nhập tên"
      >
        <ion-icon slot="start" name="person-outline" color="dark"></ion-icon>
      </ion-input>

      <ion-input
        label=""
        class="ion-margin-bottom"
        color="primary"
        type="email"
        placeholder="Email"
        formControlName="email"
        errorText="* Vui lòng nhập email"
      >
        <ion-icon slot="start" name="mail-outline" color="dark"></ion-icon>
      </ion-input>

      <ion-input
        label=""
        class="ion-margin-bottom"
        color="primary"
        type="tel"
        placeholder="Số điện thoại"
        minlength="10"
        maxlength="10"
        formControlName="phone"
        errorText="* Vui lòng nhập số điện thoại"
      >
        <ion-icon slot="start" name="call-outline" color="dark"></ion-icon>
      </ion-input>

      <ion-input
        label=""
        type="password"
        color="primary"
        placeholder="Mật khẩu"
        formControlName="password"
        [errorText]="form.get('password')?.hasError('minlength') ? '* Mật khẩu phải tối thiểu 8 kí tự' : '* Vui lòng nhập mật khẩu'"
      >
        <ion-icon
          slot="start"
          name="lock-closed-outline"
          color="dark"
        ></ion-icon>

        <ion-input-password-toggle slot="end"></ion-input-password-toggle>
      </ion-input>
    </ion-list>
  </form>

  @if(!isSignup) {
    <ion-button
    expand="block"
    size="large"
    class="ion-padding signup-button"
    shape="round"
    [strong]="true"
    (click)="onSubmit()"
  >
    <ion-text>Đăng ký</ion-text>
  </ion-button>
  } @else {
    <ion-button
    expand="block"
    size="large"
    class="ion-padding signup-button"
    shape="round"
    [strong]="true"
  >
  <ion-spinner name="crescent" color="light"></ion-spinner>
  </ion-button>
  }
  
</ion-content>

<ion-footer class="ion-no-border">
  <div align="center" class="ion-padding-bottom login">
    <ion-text color="dark"> Đã có tài khoản? </ion-text>
    <ion-button
    fill="clear"
    color="dark"
    size="small"
    [strong]="true"
    (click)="back()">
    <ion-text slot="start">Đăng nhập</ion-text>
  </ion-button>
  </div>
</ion-footer>